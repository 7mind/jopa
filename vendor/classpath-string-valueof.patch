--- java/lang/String.java	2008-09-22 18:36:27.000000000 -0400
+++ java/lang/String.java	2025-12-04 17:55:00.000000000 -0500
@@ -1558,7 +1558,9 @@
    */
   public static String valueOf(Object obj)
   {
-    return obj == null ? "null" : obj.toString();
+    if (obj == null) return "null";
+    String s = obj.toString();
+    return s == null ? "null" : s;
   }
 
   /**
